<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (21) -->
<title>(WebPKI.org Support)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="generator" content="javadoc/DocFileWriter">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body class="doc-file-page">
<script type="text/javascript"></script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="../package-summary.html">Package</a></li>
<li>Class</li>
<li><a href="../../../../overview-tree.html">Tree</a></li>
<li><a href="../../../../help-doc.html#doc-file">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div id="navbar-sub-list"></div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main"><h2 id="tagged-and-custom-container-data-heading">Tagged and Custom Container Data</h2>
The CBOR library contains support for wrapping CSF and
CEF containers in a <a href="../CBORTag.html" title="class in org.webpki.cbor"><code>CBORTag</code></a> as well as
including a <code class='webpkicode'>customData</code> element.
<p>
In both cases the added information becomes a part of the
authenticated (signed) data.
</p>
<p>
Note that these options represent <i>extensions</i> that in order to be
accepted during validation respectively decryption, <b>must</b>
be preceded by setting a for the application suitable policy
(<a href="../CBORCryptoUtils.POLICY.html" title="enum class in org.webpki.cbor"><code>CBORCryptoUtils.POLICY</code></a>). 
</p>
<h3 id="creating-tagged-containers-heading" style='padding:1em 0 0 0'>Creating Tagged Containers</h3>
Creating a tagged CSF only requires wrapping the map to be signed in a
suitable <a href="../CBORTag.html" title="class in org.webpki.cbor"><code>CBORTag</code></a> object.
<p>
CEF containers can be tagged by wrapping an <i>empty</i> <a href="../CBORMap.html" title="class in org.webpki.cbor"><code>CBORMap</code></a> in
a suitable <a href="../CBORTag.html" title="class in org.webpki.cbor"><code>CBORTag</code></a> object, and use that as an additional
argument during encryption: <a href="../CBOREncrypter.html#encrypt(byte%5B%5D,org.webpki.cbor.CBORTag)"><code>CBOREncrypter.encrypt(byte[], CBORTag)</code></a>.</p>

<h3 id="decoding-tagged-containers-heading" style='padding:1em 0 0 0'>Decoding Tagged Containers</h3>
Decoding the tag of a tagged CSF or CEF container is performed by calling
<a href="../CBORValidator.html#setTagPolicy(org.webpki.cbor.CBORCryptoUtils.POLICY,org.webpki.cbor.CBORCryptoUtils.Collector)"><code>CBORValidator.setTagPolicy(CBORCryptoUtils.POLICY,CBORCryptoUtils.Collector)</code></a> and
<a href="../CBORDecrypter.html#setTagPolicy(org.webpki.cbor.CBORCryptoUtils.POLICY,org.webpki.cbor.CBORCryptoUtils.Collector)"><code>CBORDecrypter.setTagPolicy(CBORCryptoUtils.POLICY,CBORCryptoUtils.Collector)</code></a> respectively,
where <a href="../CBORCryptoUtils.Collector.html#foundData(org.webpki.cbor.CBORObject)"><code>CBORCryptoUtils.Collector.foundData(CBORObject)</code></a> returns
the actual tag object or <code>null</code> if the container is not tagged.</p>

<h3 id="creating-custom-data-heading" style='padding:1em 0 0 0'>Creating Custom Data</h3>
Adding custom data to CSF or CEF containers is performed by calling
<a href="../CBORSigner.html#setIntercepter(org.webpki.cbor.CBORCryptoUtils.Intercepter)"><code>CBORSigner.setIntercepter(CBORCryptoUtils.Intercepter)</code></a> and
<a href="../CBOREncrypter.html#setIntercepter(org.webpki.cbor.CBORCryptoUtils.Intercepter)"><code>CBOREncrypter.setIntercepter(CBORCryptoUtils.Intercepter)</code></a> respectively,
where <a href="../CBORCryptoUtils.Intercepter.html#getCustomData()"><code>CBORCryptoUtils.Intercepter.getCustomData()</code></a> is supposed
to provide the actual data.

<h3 id="decoding-custom-data-heading" style='padding:1em 0 0 0'>Decoding Custom Data</h3>
Decoding custom data in a CSF or CEF container is performed by calling
<a href="../CBORValidator.html#setCustomDataPolicy(org.webpki.cbor.CBORCryptoUtils.POLICY,org.webpki.cbor.CBORCryptoUtils.Collector)"><code>CBORValidator.setCustomDataPolicy(CBORCryptoUtils.POLICY,CBORCryptoUtils.Collector)</code></a> and
<a href="../CBORDecrypter.html#setCustomDataPolicy(org.webpki.cbor.CBORCryptoUtils.POLICY,org.webpki.cbor.CBORCryptoUtils.Collector)"><code>CBORDecrypter.setCustomDataPolicy(CBORCryptoUtils.POLICY,CBORCryptoUtils.Collector)</code></a> respectively,
where <a href="../CBORCryptoUtils.Collector.html#foundData(org.webpki.cbor.CBORObject)"><code>CBORCryptoUtils.Collector.foundData(CBORObject)</code></a> returns
the actual data or <code>null</code> if the container does not contain such data.</p></main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small><i>2005-2025 WebPKI.org.</i></small></p>
</footer>
</div>
</div>
</body>
</html>
